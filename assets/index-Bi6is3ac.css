*{margin:0;padding:0;box-sizing:border-box}:root{--color-primary: #d4a637;--color-primary-hover: #f5d56a;--color-primary-dark: #0a0a0a;--color-secondary: #1a1a1a;--bg-main: #0a0a0a;--bg-secondary: #1a1a1a;--bg-overlay: rgba(0, 0, 0, .7);--text-primary: #f5d56a;--text-secondary: #999999;--text-muted: #aaaaaa;--stat-value: #e0e0e0;--border-primary: #d4a637;--border-light: #333333;--border-divider: #d4a63755;--input-bg: #1a3a2a;--input-border: #22c55e;--input-text: #86efac;--output-bg: #3a1a1a;--output-border: #ef4444;--output-text: #fca5a5;--delete-bg: #3a1a1a;--delete-color: #ef4444;--delete-hover-bg: #ef4444;--delete-hover-color: #0a0a0a;--node-bg: #1a1a1a;--node-border: #d4a637;--node-target-bg: #2d2416;--node-target-border: #f5d56a;--handle-input-supplied: #22c55e;--handle-input-deficient: #ef4444;--handle-output-connected: #ef4444;--handle-output-excess: #22c55e;--stat-positive: #86efac;--stat-negative: #fca5a5;--settings-input-label: #86efac;--settings-output-label: #fca5a5;--tier-1-color: #888888;--tier-2-color: #4ade80;--tier-3-color: #60a5fa;--tier-4-color: #c084fc;--tier-5-color: #fbbf24;--edge-path: orthogonal;--edge-style: animated;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 15px;--spacing-xl: 20px;--spacing-2xl: 30px;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .3);--shadow-lg: 0 8px 16px rgba(0, 0, 0, .5);--shadow-target: 0 4px 12px rgba(245, 213, 106, .3);--font-size-xs: 11px;--font-size-sm: 13px;--font-size-base: 14px;--font-size-md: 15px;--font-size-lg: 15px;--font-size-xl: 20px;--font-size-2xl: 24px}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;background:var(--bg-main);color:var(--text-primary);position:fixed;width:100%;height:100%;touch-action:none}#root{width:100vw;height:100vh}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-secondary)}::-webkit-scrollbar-thumb{background:var(--color-primary);border-radius:var(--radius-sm)}::-webkit-scrollbar-thumb:hover{background:var(--color-primary-hover)}.btn{padding:12px 24px;border:none;border-radius:var(--radius-lg);cursor:pointer;font-weight:600;font-size:var(--font-size-base);box-shadow:var(--shadow-sm);white-space:nowrap;transition:all .2s}.btn-primary{background:var(--color-primary);color:var(--color-primary-dark)}.btn-primary:hover:not(:disabled){background:var(--color-primary-hover)}.btn-secondary{background:var(--bg-secondary);color:var(--color-primary);border:2px solid var(--border-primary);min-width:180px}.btn-secondary:hover:not(:disabled){background:var(--color-primary);color:var(--color-primary-dark)}.btn-delete{padding:8px 16px;background:var(--delete-bg);color:var(--delete-color);border:2px solid var(--delete-color);font-size:var(--font-size-sm)}.btn-delete:hover{background:var(--delete-hover-bg);color:var(--delete-hover-color)}.btn-menu-toggle{padding:12px 16px!important;font-size:var(--font-size-2xl)!important;line-height:1!important;min-width:auto!important}.menu-buttons .btn-secondary{padding:16px;min-width:120px}.btn-back{padding:8px 16px;font-size:var(--font-size-sm);margin-bottom:var(--spacing-lg)}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg-overlay);display:flex;align-items:center;justify-content:center;z-index:1000}.modal{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-lg);padding:var(--spacing-2xl);width:600px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow-lg)}.modal-title{color:var(--color-primary);margin-bottom:var(--spacing-xl);text-align:center;font-size:var(--font-size-xl);font-weight:700}.modal-content{overflow-y:auto;overflow-x:hidden}.input,.select{width:100%;padding:10px;background:var(--bg-main);border:2px solid var(--border-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-size:var(--font-size-base)}.input::placeholder{color:var(--text-secondary)}.select{cursor:pointer;font-size:var(--font-size-sm);padding:8px}.input-small{width:100px;padding:8px;font-size:var(--font-size-base)}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}.product-table-header{display:grid;grid-template-columns:2fr 1fr 1fr;padding:10px 12px;background:var(--color-primary);color:var(--color-primary-dark);font-weight:700;font-size:var(--font-size-sm);border-radius:var(--radius-sm) var(--radius-sm) 0 0;position:sticky;top:0;z-index:1}.product-row{display:grid;grid-template-columns:2fr 1fr 1fr;padding:var(--spacing-md);background:var(--bg-main);border-bottom:1px solid var(--border-light);cursor:pointer;transition:transform .2s,background .2s}.product-row:hover{transform:translate(4px);background:var(--bg-secondary)}.product-name{font-weight:600;color:var(--text-primary);font-size:var(--font-size-base)}.product-type{font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:2px}.recipe-card{padding:var(--spacing-lg);background:var(--bg-main);border:2px solid var(--border-primary);border-radius:var(--radius-md);cursor:pointer;transition:transform .2s}.recipe-card:hover{transform:scale(1.02)}.recipe-machine{font-weight:600;color:var(--text-primary);font-size:var(--font-size-md);margin-bottom:8px}.recipe-details{font-size:var(--font-size-sm);margin-bottom:6px}.recipe-label-input{color:var(--input-text)}.recipe-label-output{color:var(--output-text)}.target-card{padding:var(--spacing-lg);background:var(--bg-main);border:2px solid var(--border-primary);border-radius:var(--radius-md);display:flex;align-items:center;gap:var(--spacing-lg)}.target-product-name{font-weight:600;color:var(--text-primary);font-size:var(--font-size-md)}.target-box-id{font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:2px}.target-input-group{display:flex;align-items:center;gap:8px}.target-label{color:var(--text-primary);font-size:var(--font-size-sm);white-space:nowrap}.empty-state{padding:40px 20px;text-align:center;color:var(--text-secondary);font-size:var(--font-size-base)}.custom-node{border-radius:var(--radius-lg);background:var(--node-bg);border:2px solid var(--node-border);color:var(--text-primary);font-weight:500;box-shadow:none;position:relative;display:flex;flex-direction:column;will-change:transform;transform:translateZ(0);backface-visibility:hidden;-webkit-font-smoothing:subpixel-antialiased}.custom-node:not(.dragging){box-shadow:var(--shadow-md)}.custom-node.target{background:var(--node-target-bg);border:3px solid var(--node-target-border);box-shadow:none}.custom-node.target:not(.dragging){box-shadow:var(--shadow-target)}.node-info-area{padding:15px 20px 0;display:flex;flex-direction:column}.node-recipe-name{font-size:var(--font-size-lg);font-weight:700;color:var(--text-primary);text-align:center;margin-bottom:var(--spacing-md);padding:0 30px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.node-stats-row{display:flex;justify-content:space-between;border-bottom:1px solid var(--border-divider)}.node-stats{display:flex;flex-direction:column;justify-content:space-evenly;font-size:var(--font-size-xs);flex:1;min-width:0}.node-stat-row{color:var(--stat-value);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-stat-label{color:var(--text-primary);font-weight:600}.node-machine-info{display:flex;flex-direction:column;align-items:flex-end;justify-content:center;flex:1;min-width:0}.node-machine-name{color:var(--text-primary);font-weight:600;font-size:var(--font-size-sm);margin-bottom:4px;white-space:normal;word-wrap:break-word;overflow-wrap:break-word;max-width:100%;text-align:right}.node-machine-count{color:var(--text-primary);font-size:var(--font-size-xl);font-weight:700;line-height:1}.node-io-area{position:relative;flex:1;min-height:0;display:flex;flex-direction:column}.node-handles-container{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.node-handles-container .react-flow__handle{pointer-events:auto}.node-io-columns{display:grid;height:100%;align-items:center;width:100%}.node-io-column{display:flex;flex-direction:column;gap:8px;padding:12px 0;position:relative}.node-io-column.node-io-right{justify-self:end}.node-rect-wrapper{position:relative;width:100%}.node-io-left{align-items:flex-start}.node-io-left .node-rect{align-self:flex-start}.node-io-right{align-items:flex-end}.node-io-right .node-rect-wrapper{width:100%;display:flex;justify-content:flex-end}.node-io-right .node-rect{align-self:flex-end}.node-rect{position:relative;border:2px solid;border-radius:var(--radius-sm);padding:4px 8px;font-size:var(--font-size-sm);text-align:center;font-weight:600;display:flex;align-items:center;justify-content:center;overflow:hidden}.node-rect-text{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-height:1.2;word-break:break-word}.node-rect.input{background:var(--input-bg);border-color:var(--input-border);color:var(--input-text)}.node-rect.output{background:var(--output-bg);border-color:var(--output-border);color:var(--output-text)}.node-rect.clickable{cursor:pointer}.react-flow__background{background:var(--bg-main)}.react-flow__controls button{background:var(--bg-secondary);color:var(--color-primary);border:1px solid var(--border-primary)}.react-flow__minimap{background:var(--bg-secondary);border:1px solid var(--border-primary)}.mobile-controls-container{pointer-events:auto!important;position:relative;z-index:100;display:flex;gap:4px;background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-md);padding:4px;margin-bottom:10px;margin-left:auto;width:fit-content}.mobile-controls-container .btn{padding:8px!important;font-size:18px!important;min-width:auto!important;line-height:1!important;width:42px!important;height:42px!important;display:flex!important;align-items:center!important;justify-content:center!important}.mobile-controls-container .btn:hover{background:var(--bg-secondary)!important;color:var(--color-primary)!important;transform:none!important}.mobile-controls-container .btn-primary:hover{background:var(--color-primary)!important;color:var(--color-primary-dark)!important;transform:none!important}@keyframes dash{to{stroke-dashoffset:-24}}.custom-edge{stroke:var(--color-primary);stroke-width:3}.custom-edge-animated{stroke-dasharray:8 4;animation:dash 1.5s linear infinite}.custom-edge-dashed{stroke-dasharray:8 4}.custom-edge-solid{stroke-dasharray:none}.pending-node-preview{position:fixed;pointer-events:none;z-index:10000;opacity:.7;background:var(--node-bg);border:3px dashed var(--color-primary);border-radius:var(--radius-lg);padding:15px 20px;color:var(--text-primary);box-shadow:var(--shadow-lg);min-width:320px}.pending-node-recipe-name{font-size:var(--font-size-lg);font-weight:700;text-align:center;margin-bottom:8px}.pending-node-machine-name{font-size:var(--font-size-sm);text-align:center;color:var(--text-secondary);margin-bottom:4px}.pending-node-hint{font-size:var(--font-size-xs);text-align:center;color:var(--text-muted);margin-top:8px;font-style:italic}.flex-row{display:flex;gap:10px}.flex-col{display:flex;flex-direction:column;gap:10px}.mb-md{margin-bottom:var(--spacing-md)}.mb-lg{margin-bottom:var(--spacing-lg)}.text-right{text-align:right}.text-center{text-align:center}.flex-1{flex:1}.menu-container{display:flex;align-items:flex-start;gap:10px;transition:transform .3s ease-in-out}.menu-container.closed{transform:translate(calc(100% - 48px))}@media(max-width:768px){.menu-container.closed{transform:translate(calc(100% - 44px))}}.menu-container.closed .menu-buttons{pointer-events:none}.menu-container.closed .btn-menu-toggle{pointer-events:auto}.menu-buttons{display:flex;flex-direction:column;gap:10px}.react-flow__panel.top.right:has(.menu-container.closed){pointer-events:none}.react-flow__panel.top.right:has(.menu-container.closed) .btn-menu-toggle{pointer-events:auto}.left-panel-container{display:flex;align-items:flex-start;transition:transform .3s ease-in-out}.left-panel-container.collapsed{transform:translate(calc(-100% + 90px))}@media(max-width:484px){.left-panel-container.collapsed{transform:translate(-345px)}}.left-panel-container.collapsed>div>div:first-child{pointer-events:none}.left-panel-container.collapsed .btn-panel-toggle{pointer-events:auto}.action-buttons-container{transition:transform .3s ease-in-out}.left-panel-container.collapsed .action-buttons-container{transform:translate(90px)}.action-buttons-container>div:last-child{transform:translate(0);transition:transform .3s ease-in-out}.left-panel-container.collapsed .action-buttons-container>div:last-child{transform:translate(-95px)}.left-panel-container.collapsed .action-buttons-container>button:not(.btn-panel-toggle){pointer-events:auto}.react-flow__panel.top.left:has(.left-panel-container.collapsed){pointer-events:none}.react-flow__panel.top.left:has(.left-panel-container.collapsed) .btn-panel-toggle,.react-flow__panel.top.left:has(.left-panel-container.collapsed) .action-buttons-container>button{pointer-events:auto}.drill-settings-button{position:absolute;top:10px;right:10px;width:32px;height:32px;background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-sm);cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:10}.drill-settings-button:hover{background:var(--color-primary);transform:scale(1.1)}.drill-settings-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg-overlay);display:flex;align-items:center;justify-content:center;z-index:2000}.drill-settings-bubble{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-lg);padding:var(--spacing-xl);width:600px;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-lg)}.drill-settings-title{color:var(--color-primary);font-size:var(--font-size-xl);font-weight:700;margin-bottom:var(--spacing-xl);text-align:center}.drill-settings-content{display:flex;flex-direction:column;gap:var(--spacing-lg);margin-bottom:var(--spacing-xl)}.drill-setting-group{display:flex;flex-direction:column;gap:var(--spacing-sm)}.drill-setting-label{color:var(--text-primary);font-size:var(--font-size-base);font-weight:600}.drill-setting-checkbox{flex-direction:row;align-items:center}.drill-setting-checkbox .drill-setting-label{display:flex;align-items:center;gap:10px;cursor:pointer;font-weight:500}.drill-checkbox{width:20px;height:20px;cursor:pointer;accent-color:var(--color-primary)}.drill-settings-buttons{display:flex;gap:10px;justify-content:space-between}.drill-settings-buttons .btn{flex:1}.theme-group{margin-bottom:25px}.theme-group-title{color:var(--text-primary);font-size:16px;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid var(--border-divider)}.theme-color-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.theme-color-item{display:flex;flex-direction:column;gap:6px}.theme-color-label{color:var(--text-secondary);font-size:var(--font-size-sm);font-weight:500}.theme-color-inputs{display:flex;gap:8px;align-items:center}.theme-color-picker{width:50px;height:35px;border:2px solid var(--border-primary);border-radius:var(--radius-sm);cursor:pointer}.theme-color-text{flex:1;padding:6px 8px;font-size:12px;font-family:monospace}.stats-panel{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-lg);padding:10px 12px;box-shadow:var(--shadow-md);min-width:240px;max-width:240px}.stats-title{color:var(--color-primary);font-size:var(--font-size-md);font-weight:700;margin-bottom:8px;text-align:center;border-bottom:2px solid var(--border-divider);padding-bottom:6px}.stats-grid{display:flex;flex-direction:column;gap:12px}.stat-item{display:flex;justify-content:space-between;align-items:center;padding:6px;background:var(--bg-main);border-radius:var(--radius-sm);gap:8px}.stat-label{color:var(--text-primary);font-size:var(--font-size-xs);font-weight:600}.stat-value{color:var(--stat-value);font-size:var(--font-size-sm);font-weight:700;text-align:right}.extended-panel{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:var(--radius-lg);margin-top:0;width:380px;height:100vh;overflow-y:auto;box-shadow:var(--shadow-md);animation:slideUp .3s ease-out;z-index:1;transition:transform .3s ease-in-out}.left-panel-container.collapsed .extended-panel{transform:translate(-140px)}.extended-panel.closing{animation:slideDown .3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.extended-panel-title{color:var(--color-primary);font-size:var(--font-size-md);font-weight:700;padding:15px;text-align:center;border-bottom:2px solid var(--border-divider);position:sticky;top:0;background:var(--bg-secondary);z-index:1}.extended-panel-content{padding:15px;max-height:calc(100vh - 350px);overflow-y:auto}.btn-square{padding:8px!important;min-width:auto!important;width:85px!important;height:42px!important;font-size:var(--font-size-2xl);line-height:1;display:flex;align-items:center;justify-content:center}.btn-panel-toggle{position:relative;z-index:10}.react-flow__controls{transition:left .3s ease-out;z-index:10}.react-flow__controls.controls-shifted{left:385px!important;transition:left .3s ease-out;z-index:10}.slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:8px;border-radius:5px;background:var(--bg-main);outline:none;border:2px solid var(--border-primary)}.slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--color-primary);cursor:pointer;border:2px solid var(--color-primary-dark)}.slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--color-primary);cursor:pointer;border:2px solid var(--color-primary-dark)}@media(hover:none)and (pointer:coarse),(pointer:coarse),(max-width:768px)and (hover:none){.react-flow__controls,.react-flow__minimap{display:none!important}.extended-panel{position:fixed!important;left:50%!important;top:auto!important;bottom:0!important;transform:translate(-50%)!important;width:calc(100vw - 20px)!important;max-width:500px!important;height:auto!important;max-height:calc(100vh - 200px)!important;margin-top:0!important;z-index:2000!important;overflow:hidden!important}.extended-panel-content{max-height:calc(100vh - 300px)!important;overflow-y:auto!important}.extended-panel:before{content:"";position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg-overlay);z-index:-1}}@media(max-width:768px){.react-flow__controls,.react-flow__minimap{display:none!important}}@media(max-width:576px){.extended-panel{width:calc(100vw - 20px)}}@media(hover:none)and (pointer:coarse){.btn:hover:not(:disabled),.btn-primary:hover:not(:disabled),.btn-secondary:hover:not(:disabled),.btn-delete:hover,.drill-settings-button:hover,.product-row:hover,.recipe-card:hover,.node-rect.clickable:hover{background:inherit!important;color:inherit!important;transform:none!important;border-color:inherit!important}.btn-primary:hover:not(:disabled){background:var(--color-primary)!important;color:var(--color-primary-dark)!important}.btn-secondary:hover:not(:disabled){background:var(--bg-secondary)!important;color:var(--color-primary)!important;border:2px solid var(--border-primary)!important}.btn-delete:hover{background:var(--delete-bg)!important;color:var(--delete-color)!important}}
